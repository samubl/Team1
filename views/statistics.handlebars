<html>
<head>
	<title>J. Smith Statistics</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Linked css files -->
	<link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="/css/constants.css" rel="stylesheet">
</head>
<body>
	<!-- bootstrap container for page content -->
	<div class="container">
		<!-- Back Button, Username -->
		<div class="backandname">
			<button type="button" onclick="goBack()" id="back">Back</button> 
			<h1>Statistics</h1>
		</div>	
		<h3>Statistics</h3>
		<h4 id="statsmsg" style="display: none">No Stats yet. :( Try Connecting with Spotify first!</h4>
		<ul class="stats">
			{{#with statistics}}
				<li>Listening Time: {{listeningTime}} hours</li><br>
				<li>Most popular Genre: {{mostcommongenre}}</li><br>
				<li>Most common Decade: {{decade}}</li><br>
			{{/with}}	
		</ul>
		
		<!-- Navbar Section -->
		<ul class="navbar">
			<li><a href="/userprofile">Account</a></li>
			<li><a href='/Friends'>Friends</a></li>
			<li><a href="/Statistics" class="active">Statistics</a></li>
			<li><a href='/Favorites'>Favorites</a></li>
		</ul>
	</div>

	<!-- connected javascript files -->
	<script src="/js/jquery-1.11.0.js"></script>	
	<script src="/js/bootstrap.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script>
		function goBack(){
			window.history.back();
		}
	</script>
	<script>
		(function () {
			//can use the same access_token!
			console.log(sessionStorage.getItem("access_token"));
			if (!(!!sessionStorage.getItem("access_token"))) {
				console.log("Ready for API calls!");
			}
			else {
				//no data yet
				$('.stats').hide();
				$('#statsmsg').show();
			}
		})();
	</script>
</body>
</html>
